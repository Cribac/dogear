---
interface Props {
  title: string
}

const { title } = Astro.props
---
<!doctype html>
<html
  lang="en"
  class="dark"
>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Astro description"
    />
    <meta
      name="viewport"
      content="width=device-width"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/favicon.svg"
    />
    <meta
      name="generator"
      content={Astro.generator}
    />
    <title>{title}</title>
  </head>
  <body class="bg-ctp-base text-ctp-text">
    <slot />
  </body>
</html>

<script is:inline>
function prefersLightTheme () {
  return localStorage.getItem('theme') === 'light'
}

function prefersLightScheme () {
  return window.matchMedia('(prefers-color-scheme: light)').matches
}

if (prefersLightTheme() || prefersLightScheme()) {
  document.documentElement.classList.add('light')
  document.documentElement.classList.remove('dark')
} else {
  document.documentElement.classList.add('dark')
  document.documentElement.classList.remove('light')
}
</script>
